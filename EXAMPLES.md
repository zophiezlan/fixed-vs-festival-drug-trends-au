# Example Outputs

This document showcases the outputs generated by the Australian Drug Checking Analysis project.

## Generated Files

When you run `python main.py`, the following files are generated:

### Data Files (data/)

1. **fixed_site_data.csv** - 500 samples from fixed-site services
2. **festival_data.csv** - 400 samples from festival services  
3. **combined_data.csv** - 900 combined samples for analysis

### Analysis Report (outputs/)

**analysis_report.txt** - Comprehensive text summary with:
- Basic metrics comparison
- Diversity analysis (Shannon & Simpson indices)
- NPS detection statistics
- Early warning capability assessment
- Key findings summary

### Visualizations (outputs/)

Five publication-ready PNG visualizations:

1. **service_comparison.png** (4170 x 3014 px)
   - Total samples vs unique substances
   - NPS detection rates
   - Diversity indices comparison
   - Adulterant detection rates

2. **nps_trends.png** (4456 x 1485 px)
   - NPS detection rate over time
   - Cumulative unique NPS discovery curves
   - Early warning system demonstration

3. **substance_distribution.png** (4770 x 1779 px)
   - Top 10 detected substances by service type
   - Side-by-side comparison
   - Detection frequency counts

4. **nps_diversity.png** (4470 x 1779 px)
   - Unique NPS types detected
   - Most common NPS by service
   - Detailed NPS breakdown

5. **early_warning.png** (4126 x 1779 px)
   - First detection comparison (pie chart)
   - Emerging substances in recent 6 months
   - Early warning capabilities

## Sample Analysis Results

### Key Metrics

```
Fixed-site Services:
  - Total samples: 500
  - Unique substances: 38
  - NPS detected: 214 (42.8%)
  - Samples with adulterants: 190 (38.0%)

Festival Services:
  - Total samples: 400
  - Unique substances: 22
  - NPS detected: 93 (23.2%)
  - Samples with adulterants: 54 (13.5%)
```

### Diversity Indices

```
Fixed-site:
  - Shannon Diversity Index: 3.509
  - Simpson Diversity Index: 0.967
  - Species Richness: 38

Festival:
  - Shannon Diversity Index: 2.914
  - Simpson Diversity Index: 0.938
  - Species Richness: 22
```

### NPS Detection

```
Fixed-site:
  - Unique NPS types: 24
  - Total NPS samples: 214

Festival:
  - Unique NPS types: 8
  - Total NPS samples: 93
```

### Early Warning Capability

```
First detection of substances:
  - Fixed-site detected first: 17 substances
  - Festival detected first: 5 substances
  - Detected simultaneously: 0 substances
```

## Interpretation

### Higher Diversity at Fixed Sites

The **Shannon Diversity Index** of 3.509 for fixed-site services compared to 2.914 for festival services indicates significantly higher substance diversity. This is further supported by 38 unique substances vs 22 at festivals.

### Enhanced NPS Detection

Fixed-site services detect:
- **3x more unique NPS types** (24 vs 8)
- **2.3x higher total NPS samples** (214 vs 93)
- **Nearly double the NPS detection rate** (42.8% vs 23.2%)

### Early Warning Function

Fixed-site services detected 17 substances first, compared to only 5 for festival services, demonstrating their critical role as an **early warning system** for emerging drug trends.

### Public Health Implications

1. **Continuous Monitoring**: Fixed sites provide year-round surveillance
2. **Diverse Detection**: Catch rare and emerging substances festivals may miss
3. **Adulterant Identification**: 2.8x better at detecting adulterants (38% vs 13.5%)
4. **Risk Assessment**: Enable proactive public health responses

## Usage Example

```bash
# Run complete analysis
python main.py

# Expected output:
# - 3 CSV files in data/
# - 1 text report in outputs/
# - 5 PNG visualizations in outputs/
# - Console summary of key findings
```

## Visualization Quality

All visualizations are generated at high resolution (300 DPI) suitable for:
- Academic publications
- Policy briefs
- Harm reduction materials
- Public health reports
- Stakeholder presentations

## Data Format

CSV columns in generated datasets:
- `date`: Testing date (YYYY-MM-DD)
- `service_type`: Fixed-site or Festival
- `substance_detected`: Primary substance identified
- `expected_substance`: User's expectation
- `is_nps`: Boolean flag for Novel Psychoactive Substances
- `sample_form`: Powder, Pill, Crystal, Liquid, Blotter, or Capsule
- `adulterants`: Comma-separated list or "None"
- `num_adulterants`: Integer count

## Customization

To modify the analysis:

1. **Sample size**: Edit `n_samples` in `src/generate_data.py`
2. **Time period**: Adjust date ranges in generation functions
3. **NPS detection rates**: Modify probability distributions
4. **Visualization style**: Update colors/fonts in `src/visualization.py`
5. **Analysis metrics**: Add methods to `DrugCheckingAnalyzer` class

---

**Note**: This is synthetic data for demonstration. Real-world analyses should use actual drug checking service data with appropriate ethical approvals.
